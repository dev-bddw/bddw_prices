{% extends 'base.html' %}
{% load static %}

{% block javascript %}
	 {{ block.super }}
    <script type="module" crossorigin src="/static/index-b2e3191f.js"></script>
{% endblock %}

{% block css %}
	 {{ block.super }}
    <link rel="stylesheet" href="/static/index-e7690a5b.css">
{% endblock %}

{% block content %}
<div>
    <div id="root"></div>
    {{context|json_script:"context"}}
		{% csrf_token %}
</div>
{% endblock %}

{% block inline_javascript %}
	{{ block.super }}
	<script>
		 const read_context = JSON.parse(JSON.parse(document.getElementById('context').textContent));
		 const CONTEXT = {
			 'csrf_token': document.querySelector('input[name="csrfmiddlewaretoken"]').value,
			 'auth_token': read_context.auth_token,
			 'tearsheet' : read_context.tearsheet,
			 'pricerecord_api_url' : '{% url 'edit-pricerecord-api' %}',
			 'tearsheet_api_url' : '{% url 'edit-tearsheet-api' id  %}'
			};
	</script>
{% endblock %}
